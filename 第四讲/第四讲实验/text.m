X_demand = [30, 20, 50;
            20, 30, 35;
            16, 18, 2];      % 中间需求
x = [250, 200, 100];         % 总投入
A =  X_demand ./ repmat(x, 3, 1)   % 计算直接消耗系数矩阵
E = eye(size(A, 1));         % 构造与A行列数相同的单位矩阵

Y = [120, 115, 100]';        % 今年三个部门的最终产品
X = (E - A) \ Y              % 计算三个部门的总产出
X_new = A .* repmat(X', 3, 1)